<html>
<head>
	<link type="image/png" rel="icon" href="http://esocode.com/img/icon.png" />
	<script type="text/javascript" src="scanner.js"></script>
	<script type="text/javascript" src="blueprints.js"></script>
	<script type="text/javascript" src="builder.js"></script>
	<script type="text/javascript" src="generator.js"></script>
	<script type="text/javascript" src="jquery.min.js"></script>
	<script type="text/javascript" src="jquery.format.js"></script>
	<style type="text/css" id="esocss"></style>
	<style type="text/css">
		.col {
			height:50px;
			background-color:#CCC;
		}
		.col .col {
			height:30px;
			background-color:#999;
		}
		.footer-30-75 {
			background-color:#999;
		}
	</style>
</head>
<body>
	
	<textarea id="testoutput" style="width:100%;height:30%;"></textarea>
	<textarea id="cssoutput" style="width:100%;height:70%;"></textarea>
	
	<div class="body">
		<div class="grid-960">
			<div class="col width-33-50-100 push-10"></div>
			<div class="col width-33-50-100 push-10"></div>
			<div class="col width-33-100-100 push-10"></div>
			<div></div>
			<div class="col width-50-50-100 push-10"></div>
			<div class="col width-50-50-100 push-10"></div>
		</div>
		<div class="clear-20-10-0"></div>
		<div class="grid-960-550-100">
			<div class="col width-25-50-100 push-5">
				<div class="col width-20 push-3"></div>
				<div class="col width-20 push-3"></div>
				<div class="col width-20 push-3"></div>
				<div class="col width-20 push-3"></div>
				<div class="col width-20 push-3"></div>
			</div>
			<div class="col width-25-50-100 push-5"></div>
			<div class="col width-25-50-100 push-5"></div>
			<div class="col width-25-50-100 push-5"></div>
		</div>
		<div class="footerspacer"></div>
	</div>
	<div class="footer-30-75"></div>
	
	<script>
		
		var testOutput = $('#testoutput'),
			testPrint = function(message) { testOutput.append(message + '\n'); },
			success = 'success', failure = 'failure',
			cssOutput = $('#cssoutput'),
			cssPrint = function(message) { cssOutput.append(message); },
			cssFormat = function() { cssOutput.format({method: 'css'}); };
		
		var scanner = new esocss.scanner(),
			sourceElement = document.body,
			projects = scanner.report(sourceElement);
		testPrint('-- Scanner Report Projects');
		testPrint(projects);
		testPrint('');
		
		var buildOrder = esocss.buildOrder,
			blueprints = esocss.blueprints,
			builder = new esocss.builder(buildOrder, blueprints);
		testPrint('-- Builder');
		testPrint(builder.buildOrder);
		testPrint('');
		testPrint(builder.blueprints);
		testPrint('');
		
		var generator = new esocss.generator(),
			regions = [null, 960, 550, 250],
			outputElement = document.getElementById('esocss'),
			css = generator.generate(builder, projects, regions);
		testPrint('-- Generator');
		testPrint(css);
		cssPrint(css);
		generator.implement(outputElement, css);
		testPrint('');
		
		cssFormat();
		
	</script>
</body>
</html>












